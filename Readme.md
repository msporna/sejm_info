-----------------
what is this?
-----------------
A quick POC I did to test how openAI's api works. The scripts download legal projects from the official Polish parliament's site (https://sejm.gov.pl) and then ask chatGpt via api to summarize them. Finally, the results are put into sqlite db and displayed on a simple web page that looks like on screenshots below. First screenshot presents the main page. Second one shows the summary page which has summary generated by chatGpt and some other details fetched from the parlament's site.

![main page](https://github.com/msporna/sejminfo/blob/main/images/img1.png)

![summary page](https://github.com/msporna/sejminfo/blob/main/images/img2.png)






--------------------------------
used chatgpt prompts (in Polish)
--------------------------------
https://github.com/msporna/sejminfo/blob/main/sejm_parser/chatgpt_prompt.txt
https://github.com/msporna/sejminfo/blob/main/sejm_parser/chatgpt_prompt_hashtags.txt

-----------------
how to deploy
-----------------
0. set openAI api key in env variable
1. run sejm_parser (main.py) manually, it will update sqlite db with new records
a) it will backup previously downloaded files into zip
b) it will copy sqlite to the /web folder after it's done
2. restart web after that
3. new data will be served by the frontend


1. if links to sejm change - go to parser/sql_handler and links are built there.

---
sejm parser run
---
OPENAI_API_KEY='{key_here}' python main.py

IMPORTANT: install tesseract:

sudo apt install tesseract-ocr
sudo apt install libtesseract-dev
sudo apt-get install tesseract-ocr-pol

---
CHAT GPT COST
---

summary of 45 files costs about 2$ (chat gpt 3.5 tubo)

---
DEPLOY
---
0. clone latest
1. root folder
2. run: `docker-compose down`
3. run: `docker-compose up -d --build`
